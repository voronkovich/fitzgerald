var Fitz=(()=>{var f=Object.defineProperty;var O=Object.prototype.hasOwnProperty;var d=Object.getOwnPropertySymbols,$=Object.prototype.propertyIsEnumerable;var y=(t,e,r)=>e in t?f(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,a=(t,e)=>{for(var r in e||(e={}))O.call(e,r)&&y(t,r,e[r]);if(d)for(var r of d(e))$.call(e,r)&&y(t,r,e[r]);return t};var q=(t,e)=>{for(var r in e)f(t,r,{get:e[r],enumerable:!0})};var W={};q(W,{createModal:()=>I,default:()=>G,usePlugin:()=>_});var c=class{constructor(){this.plugins=new Map}get(e){return this.plugins.get(e)}add(e){typeof e=="function"&&(e={key:Symbol(),callable:e,lazy:!1});let{key:r,callable:i,lazy:n=!0}=e;if(!r||!["string","symbol"].includes(typeof r))throw Error("Plugin key must be not empty string or symbol.");if(!i||typeof i!="function")throw Error(`Plugin "${r}" must have callable.`);return this.plugins.set(r,Object.freeze({key:r,callable:i,lazy:n}))}has(e){return this.plugins.has(e)}keys(){return this.plugins.keys()}all(){return this.plugins.values()}},h=(t,e,r={})=>{let i=Object.keys(r);i.forEach(n=>{if(!t.has(n))throw Error(`Plugin "${n}" is not defined.`)});for(let{key:n,callable:o,lazy:s}of t.all())s&&!i.includes(n)||o(e,r[n])};var p=()=>{let t=new Map;return Object.freeze({on(e,r){let i=t.get(e);i&&i.push(r)||t.set(e,[r])},off(e,r){let i=t.get(e);i&&i.splice(i.indexOf(r)>>>0,1)},async emit(e,r){let i=t.get(e)||[];return Promise.allSettled(i.map(n=>n(r)))}})};var b=(t=[])=>{let e=new c,r=n=>{e.add(n)},i=(n={})=>{(typeof n=="string"||n instanceof Node)&&(n={content:n});let o=F();return h(e,o,n),Object.freeze(o),o};return t.forEach(r),Object.freeze({createModal:i,usePlugin:r})},F=()=>{let t=document.createElement("div");t.className="fitz";let e=document.createElement("div");e.className="fitz-backdrop";let r=document.createElement("div");r.className="fitz-content",t.append(e,r),t.style.visibility="hidden";let i=p(),n=null,o=null,s=null,l=a(a({root:t,backdrop:e,content:r},i),{show:()=>l.isDestroyed()?Promise.reject(Error("Modal is destroyed.")):o?Promise.reject(Error("Hiding process is not completed.")):n||(l.isVisible()?Promise.resolve():(n=i.emit("show:before").then(()=>(l.root.style.visibility="visible",i.emit("show"))).finally(()=>{n=null}),n)),hide:()=>l.isDestroyed()?Promise.reject(Error("Modal is destroyed.")):n?Promise.reject(Error("Showing process is not completed.")):o||(l.isHidden()?Promise.resolve():(o=i.emit("hide:before").then(()=>(l.root.style.visibility="hidden",i.emit("hide"))).finally(()=>{o=null}),o)),isVisible:()=>l.root.style.visibility==="visible",isHidden:()=>l.root.style.visibility==="hidden",isDestroyed:()=>!!s,destroy:()=>s||(s=i.emit("destroy"),s)});return l};var g=(t,e)=>{if(e!==!1)for(let[r,i]of Object.entries(e))i.show&&m(t,r,"show",i.show),i.hide&&m(t,r,"hide:before",i.hide)},m=(t,e,r,i)=>{i=i.split(/\s/),t.on(r,()=>{let n=t[e]||t.root.querySelector(e);if(!!n)return n.classList.add(...i),N(n).finally(()=>{n.classList.remove(...i)})})},N=async t=>t.getAnimations?Promise.allSettled(t.getAnimations().map(e=>e.finished)):new Promise(e=>{let r=getComputedStyle(t),i=parseFloat(r.animationDuration)||0,n=parseFloat(r.transitionDuration)||0;setTimeout(e,1e3*Math.max(i,n));let o=i>0,s=n>0;!s&&!o&&e(),o&&t.addEventListener("animationend",()=>{o=!1,s||e()},{once:!0}),s&&t.addEventListener("transitionend",()=>{s=!1,o||e()},{once:!0})});var E=(t,e)=>{if(e===!1)return;let r=Object.assign({role:"dialog",label:null,labelledBy:"[data-fitz-aria-labelledby]",describedBy:"[data-fitz-aria-describedby]"},e);t.content.setAttribute("aria-modal",!0),r.role&&t.content.setAttribute("role",r.role),r.label&&t.content.setAttribute("aria-label",r.label),t.on("show:before",()=>{let i=t.content.querySelector(r.labelledBy);i&&t.content.setAttribute("aria-labelledby",v(i));let n=t.content.querySelector(r.describedBy);n&&t.content.setAttribute("aria-describedby",v(n))})},T=0,v=t=>(t.id||(t.id=`fitz-aria-${T++}`),t.id);var z=(t,e)=>{e!==!1&&(typeof e=="string"&&(e={root:e}),Object.entries(e).forEach(r=>{let[i,n]=r,o=t[i];if(!o)throw Error(`Couldn't set class for "${i}" element because it not exists.`);n.split(/\s/).forEach(s=>{o.classList.add(s)})}))};var k=(t,e)=>{e!==!1&&(t.setContent=r=>(B(t.content,r),t),e&&t.setContent(e))},B=(t,e)=>{if(typeof e=="undefined"||e===null){u(t);return}if(typeof e=="string"){t.innerHTML=e;return}if(e.content instanceof DocumentFragment){u(t,e.content.cloneNode(!0));return}u(t,e)},u=(t,...e)=>{t.childNodes.forEach(r=>t.removeChild(r)),e.forEach(r=>t.appendChild(r))};var w=(t,e)=>{if(e===!1)return;e=e||"[data-fitz-focus]",t.content.tabIndex=-1;let r=()=>{(t.content.querySelector(e)||t.content).focus()},i=()=>{},n=()=>{};t.on("show",()=>{i=H(),n=K(t.root),r()}),t.on("hide",()=>{i(),n()})},H=()=>{let t=document.activeElement;return()=>{document.activeElement&&document.activeElement.blur(),t&&t.focus()}},K=t=>{let e=r=>{if(r.key!=="Tab")return;let i=R(t);if(i.length===0){r.preventDefault();return}let n=i[0],o=i[i.length-1];r.shiftKey?document.activeElement===n&&(o.focus(),r.preventDefault()):document.activeElement===o&&(n.focus(),r.preventDefault())};return t.addEventListener("keydown",e),()=>{t.removeEventListener("keydown",e)}},R=t=>t.querySelectorAll(["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'].join(","));var x=(t,e)=>{if(e===!1)return;if(typeof e!="string"||!e.startsWith("#"))throw Error('Hash must be not empty string starting with "#".');t.on("show",()=>{location.hash=e}),t.on("hide",()=>{location.hash===e&&(location.hash="")});let r=()=>{location.hash===e?t.show():t.hide()};window.addEventListener("hashchange",r),t.on("destroy",()=>{window.removeEventListener("hashchange",r)}),setTimeout(r,0)};var P=(t,e)=>{if(e===!1)return;typeof e=="string"&&(e={click:e});let r=Object.assign({click:"[data-fitz-hide]",backdrop:!0,escape:!0},e);r.click&&t.root.addEventListener("click",i=>{i.target.closest(r.click)&&t.hide()}),r.backdrop&&t.backdrop.addEventListener("click",t.hide),r.escape&&t.root.addEventListener("keyup",i=>{(i.key==="Escape"||i.key==="Esc")&&t.hide()})};var j=(t,e)=>{if(e!==!1){if(!e||typeof e!="string")throw Error('An "id" must be not empty string.');t.root.id=e}};var A=(t,e=document.body)=>{if(e===!1)return;let r=e;if(typeof e=="string"){if(r=document.querySelector(e),!r)throw Error(`Mount element "${e}" not found.`)}else if(!(e instanceof Element))throw Error('Mount element must be instance of "Element".');r.append(t.root),t.on("destroy",()=>{t.root.remove()})};var S=(t,e)=>{if(e!==!1){if(e.vertical){if(!L[e.vertical])throw Error(`Invalid vertical position: "${e.vertical}".`);t.root.style.setProperty("--fitz-position-vertical",L[e.vertical])}if(e.horizontal){if(!M[e.horizontal])throw Error(`Invalid horizontal position: "${e.horizontal}".`);t.root.style.setProperty("--fitz-position-horizontal",M[e.horizontal])}}},L={top:"flex-start",center:"center",bottom:"flex-end"},M={left:"flex-start",center:"center",right:"flex-end"};var C=(t,e)=>{if(e!==!1)for(let[r,i]of Object.entries(e)){let n=`--fitz-${V(r,"-")}`;t.root.style.setProperty(n,i)}},V=(t,e="_")=>t.replace(/[A-Z]/g,r=>`${e}${r.toLowerCase()}`);var D=(t,e)=>{if(e!==!1){if(typeof e=="undefined"){t.root.style.zIndex=Z()+1;return}if(Number.isInteger(e)||e==="auto"){t.root.style.zIndex=e;return}throw Error(`Invalid z-index value: "${e}".`)}},Z=()=>Array.from(document.querySelectorAll("*")).reduce((t,e)=>{let r=+getComputedStyle(e).zIndex||0;return Math.max(t,r)},0);var{createModal:I,usePlugin:_}=b([{key:"animate",callable:g,lazy:!0},{key:"aria",callable:E,lazy:!1},{key:"class",callable:z,lazy:!0},{key:"content",callable:k,lazy:!1},{key:"focus",callable:w,lazy:!1},{key:"hash",callable:x,lazy:!0},{key:"hide",callable:P,lazy:!1},{key:"id",callable:j,lazy:!0},{key:"mount",callable:A,lazy:!1},{key:"position",callable:S,lazy:!0},{key:"style",callable:C,lazy:!0},{key:"zIndex",callable:D,lazy:!1}]),G=I;return W;})();
